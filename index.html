<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chain Reaction - Ultimate Chemistry Card Game</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/animations.css">
    <link rel="stylesheet" href="assets/css/components/cards.css">
    <link rel="stylesheet" href="assets/css/components/modals.css">
    <link rel="stylesheet" href="assets/css/components/ui-elements.css">
    <link rel="stylesheet" href="assets/css/components/effects.css">
</head>
<body>
    <div class="background-animation"></div>
    <div class="particles" id="particles-js"></div>

    <div id="game-container" style="display: none;">
        <div id="opponent-area" class="player-area">
            <div class="player-hud">
                <span id="opponent-name" class="player-name">ğŸ¤– AI Quimista</span>
                <div class="hp-bar"><div id="opponent-hp-fill" class="hp-fill"></div></div>
                <span id="opponent-hp-text" class="hp-text">100/100</span>
            </div>
            <div id="opponent-hand" class="hand"></div>
            <div class="deck-info"><span>âš—ï¸ Deck: </span><span id="opponent-deck-count">0</span></div>
        </div>

        <div id="reaction-area">
            <div id="reaction-compound"></div>
            <div id="reaction-info">
                <div id="reaction-text">âš›ï¸ Composto InstÃ¡vel</div>
                <div id="reaction-stats-container">
                    <div class="stat-block"><span class="stat-label">âš¡ Carga</span><div id="reaction-charge" class="stat-value">0</div></div>
                    <div class="stat-block"><span class="stat-label">ğŸ”¬ Massa (Z)</span><div id="reaction-mass" class="stat-value">0</div></div>
                </div>
            </div>
        </div>

        <div id="player-area" class="player-area">
            <div id="player-hand" class="hand"></div>
            <div class="player-hud" style="margin-top: 15px;">
                <span id="player-name" class="player-name">ğŸ§ª Jogador</span>
                <div class="hp-bar"><div id="player-hp-fill" class="hp-fill"></div></div>
                <span id="player-hp-text" class="hp-text">100/100</span>
            </div>
            <div class="deck-info"><span>âš—ï¸ Deck: </span><span id="player-deck-count">0</span></div>
        </div>

        <div id="game-info">
            <h2>âš›ï¸ Chain Reaction âš›ï¸</h2>
            <div id="turn-indicator">Aguardando inÃ­cio...</div>
            <div id="game-log"></div>
        </div>
    </div>
    
    <div id="start-screen" class="modal">
        <div class="modal-content">
            <h2>ğŸ§¬ Bem-vindo ao Chain Reaction! ğŸ§¬</h2>
            <p>Combine elementos para criar reaÃ§Ãµes. Zere a estabilidade do oponente para vencer!</p>
            <p style="color: var(--neon-yellow); font-weight: bold;">âš ï¸ CARGA > Â±6: ReaÃ§Ã£o explode em vocÃª!</p>
            <p style="color: var(--neon-red); font-weight: bold;">ğŸ’¥ MASSA > 82: ReaÃ§Ã£o explode em vocÃª!</p>
            <p style="color: var(--neon-green); font-weight: bold;">âœ… CARGA = 0: MolÃ©cula estÃ¡vel, dano no oponente!</p>
            <button id="start-game-btn">ğŸš€ Iniciar Batalha QuÃ­mica</button>
        </div>
    </div>

    <!-- NEW: Deck Selection Screen -->
    <div id="deck-selection-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>ğŸ”¬ SeleÃ§Ã£o de Deck</h2>
            <p>Escolha sua estratÃ©gia para a batalha que se aproxima!</p>
            <div id="deck-selection-options" class="deck-options-container">
                <!-- Deck options will be generated by JS -->
            </div>
        </div>
    </div>
    
    <!-- RENAMED and REPURPOSED: Swap Screen -->
    <div id="swap-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>ğŸ” Troca EstratÃ©gica</h2>
            <p>O oponente dividiu o deck dele. Analise as cargas totais e escolha uma pilha para trocar com um terÃ§o do seu deck!</p>
            <div id="pile-selection">
                <!-- Piles will be generated by JS -->
            </div>
        </div>
    </div>

    <div id="game-over-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2 id="game-over-message"></h2>
            <button id="restart-game-btn">ğŸ”„ Nova Batalha</button>
        </div>
    </div>

    <div id="flexible-card-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2 id="flexible-card-title">Escolha a Carga</h2>
            <p>O Carbono Ã© flexÃ­vel. Escolha qual carga ele terÃ¡ nesta jogada.</p>
            <div id="flexible-card-options"></div>
        </div>
    </div>
    
    <div id="card-tooltip"></div>

    <script src="assets/js/main.js" type="module"></script>
</body>
</html>