<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chain Reaction - Ultimate Chemistry Card Game</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/animations.css">
    <link rel="stylesheet" href="assets/css/components/cards.css">
    <link rel="stylesheet" href="assets/css/components/modals.css">
    <link rel="stylesheet" href="assets/css/components/ui-elements.css">
    <link rel="stylesheet" href="assets/css/components/effects.css">
</head>
<body>
    <div class="background-animation"></div>
    <div class="particles" id="particles-js"></div>

    <div id="game-container" style="display: none;">
        <div id="opponent-area" class="player-area">
            <div class="player-hud">
                <span id="opponent-name" class="player-name">🤖 AI Quimista</span>
                <div class="hp-bar"><div id="opponent-hp-fill" class="hp-fill"></div></div>
                <span id="opponent-hp-text" class="hp-text">100/100</span>
            </div>
            <div id="opponent-hand" class="hand"></div>
            <div class="deck-info"><span>⚗️ Deck: </span><span id="opponent-deck-count">0</span></div>
        </div>

        <div id="reaction-area">
            <div id="reaction-compound"></div>
            <div id="reaction-info">
                <div id="reaction-text">⚛️ Composto Instável</div>
                <div id="reaction-stats-container">
                    <div class="stat-block"><span class="stat-label">⚡ Carga</span><div id="reaction-charge" class="stat-value">0</div></div>
                    <div class="stat-block"><span class="stat-label">🔬 Massa (Z)</span><div id="reaction-mass" class="stat-value">0</div></div>
                </div>
            </div>
        </div>

        <div id="player-area" class="player-area">
            <div id="player-hand" class="hand"></div>
            <div class="player-hud" style="margin-top: 15px;">
                <span id="player-name" class="player-name">🧪 Jogador</span>
                <div class="hp-bar"><div id="player-hp-fill" class="hp-fill"></div></div>
                <span id="player-hp-text" class="hp-text">100/100</span>
            </div>
            <div class="deck-info"><span>⚗️ Deck: </span><span id="player-deck-count">0</span></div>
        </div>

        <div id="game-info">
            <h2>⚛️ Chain Reaction ⚛️</h2>
            <div id="turn-indicator">Aguardando início...</div>
            <div id="game-log"></div>
        </div>
    </div>
    
    <div id="start-screen" class="modal">
        <div class="modal-content">
            <h2>🧬 Bem-vindo ao Chain Reaction! 🧬</h2>
            <p>Combine elementos para criar reações. Zere a estabilidade do oponente para vencer!</p>
            <p style="color: var(--neon-yellow); font-weight: bold;">⚠️ CARGA > ±6: Reação explode em você!</p>
            <p style="color: var(--neon-red); font-weight: bold;">💥 MASSA > 82: Reação explode em você!</p>
            <p style="color: var(--neon-green); font-weight: bold;">✅ CARGA = 0: Molécula estável, dano no oponente!</p>
            <button id="start-game-btn">🚀 Iniciar Batalha Química</button>
        </div>
    </div>

    <!-- NEW: Deck Selection Screen -->
    <div id="deck-selection-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>🔬 Seleção de Deck</h2>
            <p>Escolha sua estratégia para a batalha que se aproxima!</p>
            <div id="deck-selection-options" class="deck-options-container">
                <!-- Deck options will be generated by JS -->
            </div>
        </div>
    </div>
    
    <!-- RENAMED and REPURPOSED: Swap Screen -->
    <div id="swap-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>🔁 Troca Estratégica</h2>
            <p>O oponente dividiu o deck dele. Analise as cargas totais e escolha uma pilha para trocar com um terço do seu deck!</p>
            <div id="pile-selection">
                <!-- Piles will be generated by JS -->
            </div>
        </div>
    </div>

    <div id="game-over-screen" class="modal" style="display: none;">
        <div class="modal-content">
            <h2 id="game-over-message"></h2>
            <button id="restart-game-btn">🔄 Nova Batalha</button>
        </div>
    </div>

    <div id="flexible-card-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2 id="flexible-card-title">Escolha a Carga</h2>
            <p>O Carbono é flexível. Escolha qual carga ele terá nesta jogada.</p>
            <div id="flexible-card-options"></div>
        </div>
    </div>
    
    <div id="card-tooltip"></div>

    <script src="assets/js/main.js" type="module"></script>
</body>
</html>